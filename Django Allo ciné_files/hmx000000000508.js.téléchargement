;var hmx_privacy='{}';(function(){var q="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)},t="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function u(a,b){if(b){for(var e=t,f=a.split("."),d=0;d<f.length-1;d++){var g=f[d];g in e||(e[g]={});e=e[g]}f=f[f.length-1];d=e[f];g=b(d);g!=d&&null!=g&&q(e,f,{configurable:!0,writable:!0,value:g})}}
u("String.prototype.endsWith",function(a){return a?a:function(b,e){if(null==this)throw new TypeError("The 'this' value for String.prototype.endsWith must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.endsWith must not be a regular expression");void 0===e&&(e=this.length);for(var f=Math.max(0,Math.min(e|0,this.length)),d=b.length;0<d&&0<f;)if(this[--f]!=b[--d])return!1;return 0>=d}});
function v(a){var b="",e,f=0;a=String(a).replace(/\r\n/g,"\n");var d="";for(e=0;e<a.length;e++){var g=a.charCodeAt(e);128>g?d+=String.fromCharCode(g):(127<g&&2048>g?d+=String.fromCharCode(g>>6|192):(d+=String.fromCharCode(g>>12|224),d+=String.fromCharCode(g>>6&63|128)),d+=String.fromCharCode(g&63|128))}for(a=d;f<a.length;){var k=a.charCodeAt(f++);d=a.charCodeAt(f++);e=a.charCodeAt(f++);g=k>>2;k=(k&3)<<4|d>>4;var n=(d&15)<<2|e>>6;var m=e&63;isNaN(d)?n=m=64:isNaN(e)&&(m=64);b=b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m)}return b}function w(a){try{var b=v(a)}catch(e){b=""}return b};function x(a){"undefined"!==typeof console&&console.error("[TVTY] "+a)}function y(){return(new Date).getTime()}function z(){return("000000"+Math.floor(16777215*Math.random()).toString(16)).slice(-6)}function A(a,b){-1===a.indexOf(b)&&a.push(b)}function B(a){return""!=a&&"undefined"!==typeof a}function C(){var a="";try{a=window.self!==window.top?window.top.location.href:window.location.href}catch(b){a=window.location.href}"undefined"===typeof a&&(a="");return a}
function D(a,b){var e="";0<b.length&&(e="&"+a+"="+b.join(","));return e}function E(){var a=0,b=window.TVTYObj,e=window[b].cmd||[];window[b]=function(){(window[b].cmd=window[b].cmd||e).push(arguments);var f=a,d=window[window.TVTYObj].cmd;if("undefined"!==typeof d&&"number"===typeof d.length){for(var g=d.length;f<g;f++)window[F()](d[f]),d[f]=[];f=g}a=f};window[b]("consumeBuffer")}
function aa(a){if("number"===typeof a)return a;if("string"===typeof a)try{return Number(a.replace(",",".").replace(" ",""))}catch(b){return NaN}else return NaN}function F(){return"TVTYEntryPoint"}
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),f=e.length>>>0;if(0===f)return-1;var d=+b||0;Infinity===Math.abs(d)&&(d=0);if(d>=f)return-1;for(d=Math.max(0<=d?d:f-Math.abs(d),0);d<f;){if(d in e&&e[d]===a)return d;d++}return-1});function G(){this.j=z()+z();this.url=C();try{var a=window.self!==window.top?window.parent.document.referrer:document.referrer}catch(b){a=document.referrer}"undefined"===typeof a&&(a="");this.c=a;a="";try{a="undefined"!==typeof navigator.languages&&0<navigator.languages.length?-1!==navigator.languages[0].indexOf("-")||2>navigator.languages.length?navigator.languages[0]:navigator.languages[1]:navigator.language||navigator.browserLanguage}catch(b){}"undefined"===typeof a&&(a="");this.g=a;a="";try{a=
"1"==window.doNotTrack||"1"==window.navigator.msDoNotTrack||"1"==window.navigator.doNotTrack?"1":"0"}catch(b){}this.f=a;this.h=new Date;a="";try{a=this.h.getTimezoneOffset()}catch(b){}"undefined"===typeof a&&(a="");this.i=a;a="";try{a=(new Intl.DateTimeFormat).resolvedOptions().timeZone}catch(b){}"undefined"===typeof a&&(a="");this.tz=a;try{this.a=document.domain,null==this.a&&(this.a="")}catch(b){this.a=""}this.b=H}
function I(a){if(a.b==J){var b=C();if(b!=a.url)return a.c=a.url,a.url=b,!0}return!1}G.prototype={toString:function(){return JSON.stringify(this.toJSON())},toJSON:function(){return{rand:this.j,url:this.url,referer:this.c,lang:this.g,dnt:this.f,offset:this.i,tz:this.tz}}};for(var K=[],L=0;256>L;L++){for(var M=L,N=0;8>N;N++)M=M&1?3988292384^M>>>1:M>>>1;K[L]=M}function O(a){for(var b=-1,e=0,f=a.length;e<f;e++)b=b>>>8^K[(b^a.charCodeAt(e))&255];return(b^-1)>>>0};function P(a,b,e,f,d,g,k){this.s="C360i";this.b=a;this.c=b;this.m=this.o=e;this.l=f;this.g=d;this.i=0==this.g;this.a=g;this.j=[];this.f=[];this.h=k}function ba(a){a.g+=1;a.l="4.3.0";a.o=y()}function R(a){var b=void 0===b?31536E6:b;var e=document.domain,f="";"undefined"!==typeof e&&(e=e.split("."),f=2,0<=["uk","au"].indexOf(e[e.length-1])&&(f=3),f=e.slice(e.length-f).join("."));a.write(f,b)}function ca(a,b){b!=a.b&&B(b)&&A(a.j,b)}function da(a,b){b!=a.a&&B(b)&&A(a.f,b)}
P.prototype={toString:function(){var a={cookieId:this.s,cookieJS:this.b,created:this.c,updated:this.o,tag_id:this.l,count:this.g,otherCookieValues:this.j,otherEtagValues:this.f,expirationTimestamp:this.h};a.etag=this.a;return JSON.stringify(a)},toJSON:function(){var a={created:this.c,updated:this.o,tag_id:this.l,count:this.g,exp:this.h};a.etag=this.a;return a},write:function(a,b){b=void 0===b?31536E6:b;0==this.h&&(this.h=y()+b);var e=(new Date(this.h)).toUTCString(),f=this.s,d="";try{d=JSON.stringify(this.toJSON())}catch(g){d=
"{}"}try{d=this.b+"|"+v(d)}catch(g){d=this.b+"|"}f=f+"="+d+";";""!==a&&(f+=" domain="+a+";");document.cookie=f+(" path=/; expires="+e)+"; SameSite=Lax"}};function ea(a){if(0==a.length)return!1;var b=a.length;if(1==b)var e=a[0];else{a.sort(function(d,g){return d.c>g.c?1:d.c<g.c?-1:0});e=a[0];for(var f=1;f<b;f++)ca(e,a[f].b),da(e,a[f].a)}return e}
function fa(){var a=[];var b=void 0===b?"C360i":b;var e=[];if(document.cookie)for(var f=document.cookie.split(";"),d=0,g=f.length;d<g;d++){var k=f[d].indexOf("=");0<k&&b===f[d].substring(0,k).replace(/^ +/,"")&&e.push(f[d].substring(k+1))}b=0;for(f=e.length;b<f;b++){d=void 0;var n=k=g=void 0,m=e[b];var c=m;var l=-1!==c.indexOf("|")?c.indexOf("|"):c.length;if(("00000000"+O(c.substring(0,24)).toString(16).toUpperCase()).slice(-8)===c.substring(24,l).toUpperCase()){m=m.split("|");try{l=c=void 0;var r=
String(m[1]).replace(/=+$/,"");if(1==r.length%4)var h="";else{for(var p=0,ha=0,Q="";c=r.charAt(ha++);~c&&(Q+=(l=p%4?64*l+c:c,p++%4)?String.fromCharCode(255&l>>(-2*p&6)):""))c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c);h=Q}m[1]=h;""===m[1]&&(m[1]="{}")}catch(la){m[1]="{}"}l=JSON.parse(m[1]);"number"===typeof l.created?n=l.created:n=y();"number"===typeof l.updated?k=l.updated:k=y();"undefined"===typeof l.tag_id?g="4.3.0":g=l.tag_id;c="number"===typeof l.count?parseInt(l.count,
10):0;"undefined"===typeof l.etag?d="":d=l.etag;d=new P(m[0],n,k,g,c,d,"number"===typeof l.exp?parseInt(l.exp,10):0)}else x("invalid CRC. Discarding cookie"),d=!1;!1!==d&&a.push(d)}a=ea(a);"boolean"===typeof a&&(a=y(),e=(z()+z()+z()+z()).toUpperCase(),h=("00000000"+O(e).toString(16).toUpperCase()).slice(-8),a=new P(e+h,a,a,"4.3.0",0,"",0));return a};function S(a){try{(new Image(1,1)).src=a}catch(b){}};function T(a,b,e){this.a=a;this.c=b;this.b=e}T.prototype={};function U(){for(var a=window.document.getElementsByTagName("script"),b=0;b<a.length;b++)if(0===(""+a[b].src).indexOf("https://u360.d-bi.fr/e000000000508.js"))return!0;return!1};function V(a,b){this.b=a;this.a=b}
function W(a,b,e){I(a.a);var f="",d;for(d in b)"function"!==typeof b[d]&&(f+="&"+d+"="+w(b[d]));a:{for(var g in b)if("step"===g&&"function"!==typeof b[g]){b="";break a}b="&step="+w("other")}a="https://u360.d-bi.fr/000000000508.gif?c="+a.b.b+"-"+a.a.j+"&cgen="+(a.b.i?1:0)+f+b+"&hmxtagid=4.3.0&u="+w(a.a.url)+"&hmxts="+a.a.h.getTime()+"&hmxtzoffset="+w(a.a.i)+"&hmxtzname="+w(a.a.tz)+"&navlang="+w(a.a.g)+"&hmxdnt="+w(a.a.f)+"&r="+w(a.a.c)+"&hmx_send_ts="+y();e&&(a+="&hmx_new_session=1");return a}
V.prototype={};function ia(a,b,e){try{var f=document.querySelectorAll(b)}catch(m){x("set_pixel_event_listener query error. Is the querySelector ok ?"+b);return}for(var d=0;d<f.length;d++)for(var g=0;g<e.length;g++){var k=e[g],n=b;f[d].addEventListener(k,function(){var m=n;window[F()](["set","hmx_event_type",k]);window[F()](["set","hmx_event_query_selector",m]);window[F()](["set","step",a]);window[F()](["send"])})}};function X(){this.a=this.c=this.b=!1}function ja(a){var b=JSON.parse(decodeURI(hmx_privacy));"boolean"===typeof b.dnt?a.b=b.dnt:a.b=!1;"boolean"===typeof b.etag?a.c=b.etag:a.c=!1;"boolean"===typeof b.dmp?a.a=b.dmp:a.a=!1}X.prototype={};function ka(){var a=window.document.createElement("script"),b=window.document.getElementsByTagName("script")[0];null==b&&(b=window.document.getElementsByTagName("head")[0]);a.async=1;a.src="https://u360.d-bi.fr/e000000000508.js";a.onerror=function(){try{a.parentNode.removeChild(a)}catch(e){}};try{b.parentNode.insertBefore(a,b)}catch(e){}};function Y(a){this.b=a;this.a=!1}function Z(a){if(a.a){if(I(a.b.a)){var b=W(a.b,[],!1);S(b)}setTimeout(function(e){return function(){Z(e)}}(a),1E3)}}Y.prototype={};var H=0,J=1;
(function(a){var b=new X;try{"undefined"!==typeof hmx_privacy&&ja(b)}catch(m){x("Something wrong happen when deadling with user privacy: "+m)}if(!b.b){var e=!1;"undefined"!==typeof a.ObjHmx&&(a.TVTYObj=a.ObjHmx,e=!0);if("undefined"===typeof a.TVTYObj)x("TVTY tag was called directly. Please use the provided js.");else{var f=fa();ba(f);R(f);U()||b.c?U():ka();var d=new G,g=new V(f,d),k=new Y(g),n=0;a.pixelarg={};a.TVTYEntryPoint=function l(c){if(0<c.length)if(JSON.stringify(c),"send"===c[0]){var r=0==
n&&(f.i||18E5<y()-f.m),h=W(g,window.pixelarg,r);S(h);n+=1}else if("enable_single_page_application_context"===c[0])g.a.b=J;else if("disable_single_page_application_context"===c[0])g.a.b=H;else if("enable_single_page_application_url_detection"===c[0])g.a.b=J,0==n&&(r=0==n&&(f.i||18E5<y()-f.m),h=W(g,window.pixelarg,r),S(h),n+=1),0==k.a&&(k.a=!0,Z(k));else if("disable_single_page_application_url_detection"===c[0])k.a=!1;else if("set_amount"===c[0]){if(3!==c.length)return x("Received "+c.length+" parameter(s). 3 required."),
!1;l(["set_price","amount",c[1],c[2]])}else if("set_price"===c[0]){if(4!==c.length)return x("Received "+c.length+" parameter(s). 4 required."),!1;if(c[1].endsWith("_currency"))return x("You cannot ends your variable "+c[1]+' with string "_currency", it is a reserved word'),!1;l(["set_number",c[1],c[2]])?a.pixelarg[c[1]+"_currency"]=c[3]:x('Because amount "'+c[2]+'" is invalid, currency "'+c[3]+"\" won't be stored either.")}else{if("set_number"===c[0]){if(3!==c.length)return x("Received "+c.length+
" parameter(s). 3 required."),!1;h=aa(c[2]);0==isNaN(h)?a.pixelarg[c[1]]=h:x('Value "'+c[2]+'" is not a number and will not be stored in '+c[1]);return 0==isNaN(h)}if("set"===c[0])a.pixelarg[c[1]]=c[2];else if("e"===c[0]){h=new T(f,d,c[1]);if(c=""!==h.b){c=h.a;var p=h.b;r=!1;p!=c.a&&(B(c.a)&&A(c.f,c.a),c.a=p,r=!0);p=c.f.indexOf(p);-1!==p&&(c.f.splice(p,1),r=!0);c=r}c?(R(h.a),c=!0):c=!1;c&&S("https://u360.d-bi.fr/e000000000508.gif?aid=000000000508&c="+h.a.b+"&e="+h.a.a+"&d="+v(h.c.a)+D("eold",h.a.f)+
D("cold",h.a.j))}else"callbackPartner"===c[0]?b.a||(r=0==n&&(f.i||18E5<y()-f.m),h=c[1],c=c[2],"string"==typeof h&&/^[A-Za-z0-9_-]+$/.test(h)&&B(c)&&(p={},p.partner_name="id_"+h.toLowerCase(),p.partner_uuid=""+c,JSON.stringify(p),h=W(new V(f,d),p,r),S(h)),n+=1):"consumeBuffer"!==c[0]&&("set_pixel_event_listener"===c[0]?3===c.length||4===c.length&&Array.isArray(c[3])?ia(c[1],c[2],3===c.length?["click","keypress"]:c[3]):x('hmx("set_pixel_event_listener"): received '+c.length+" parameter(s). 3 or 4 required."):
x("Cannot process parameter : "+c[0]+". List="+c.toString()))}};e&&(a.HmxEntryPoint=a.TVTYEntryPoint);E()}}})(window);}).call(this);
